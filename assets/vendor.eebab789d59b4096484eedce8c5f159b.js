(function(){var $,win;$=this.jQuery||window.jQuery;win=$(window);$.fn.stick_in_parent=function(opts){var doc,elm,enable_bottoming,fn,i,inner_scrolling,len,manual_spacer,offset_top,parent_selector,recalc_every,sticky_class;if(opts==null){opts={};}
sticky_class=opts.sticky_class,inner_scrolling=opts.inner_scrolling,recalc_every=opts.recalc_every,parent_selector=opts.parent,offset_top=opts.offset_top,manual_spacer=opts.spacer,enable_bottoming=opts.bottoming;if(offset_top==null){offset_top=0;}
if(parent_selector==null){parent_selector=void 0;}
if(inner_scrolling==null){inner_scrolling=true;}
if(sticky_class==null){sticky_class="is_stuck";}
doc=$(document);if(enable_bottoming==null){enable_bottoming=true;}
fn=function(elm,padding_bottom,parent_top,parent_height,top,height,el_float,detached){var bottomed,detach,fixed,last_pos,last_scroll_height,offset,parent,recalc,recalc_and_tick,recalc_counter,spacer,tick;if(elm.data("sticky_kit")){return;}
elm.data("sticky_kit",true);last_scroll_height=doc.height();parent=elm.parent();if(parent_selector!=null){parent=parent.closest(parent_selector);}
if(!parent.length){throw"failed to find stick parent";}
fixed=false;bottomed=false;spacer=manual_spacer!=null?manual_spacer&&elm.closest(manual_spacer):$("<div />");if(spacer){spacer.css('position',elm.css('position'));}
recalc=function(){var border_top,padding_top,restore;if(detached){return;}
last_scroll_height=doc.height();border_top=parseInt(parent.css("border-top-width"),10);padding_top=parseInt(parent.css("padding-top"),10);padding_bottom=parseInt(parent.css("padding-bottom"),10);parent_top=parent.offset().top+border_top+padding_top;parent_height=parent.height();if(fixed){fixed=false;bottomed=false;if(manual_spacer==null){elm.insertAfter(spacer);spacer.detach();}
elm.css({position:"",top:"",width:"",bottom:""}).removeClass(sticky_class);restore=true;}
top=elm.offset().top-(parseInt(elm.css("margin-top"),10)||0)-offset_top;height=elm.outerHeight(true);el_float=elm.css("float");if(spacer){spacer.css({width:elm.outerWidth(true),height:height,display:elm.css("display"),"vertical-align":elm.css("vertical-align"),"float":el_float});}
if(restore){return tick();}};recalc();if(height===parent_height){return;}
last_pos=void 0;offset=offset_top;recalc_counter=recalc_every;tick=function(){var css,delta,recalced,scroll,will_bottom,win_height;if(detached){return;}
recalced=false;if(recalc_counter!=null){recalc_counter-=1;if(recalc_counter<=0){recalc_counter=recalc_every;recalc();recalced=true;}}
if(!recalced&&doc.height()!==last_scroll_height){recalc();recalced=true;}
scroll=win.scrollTop();if(last_pos!=null){delta=scroll-last_pos;}
last_pos=scroll;if(fixed){if(enable_bottoming){will_bottom=scroll+height+offset>parent_height+parent_top;if(bottomed&&!will_bottom){bottomed=false;elm.css({position:"fixed",bottom:"",top:offset}).trigger("sticky_kit:unbottom");}}
if(scroll<top){fixed=false;offset=offset_top;if(manual_spacer==null){if(el_float==="left"||el_float==="right"){elm.insertAfter(spacer);}
spacer.detach();}
css={position:"",width:"",top:""};elm.css(css).removeClass(sticky_class).trigger("sticky_kit:unstick");}
if(inner_scrolling){win_height=win.height();if(height+offset_top>win_height){if(!bottomed){offset-=delta;offset=Math.max(win_height-height,offset);offset=Math.min(offset_top,offset);if(fixed){elm.css({top:offset+"px"});}}}}}else{if(scroll>top){fixed=true;css={position:"fixed",top:offset};css.width=elm.css("box-sizing")==="border-box"?elm.outerWidth()+"px":elm.width()+"px";elm.css(css).addClass(sticky_class);if(manual_spacer==null){elm.after(spacer);if(el_float==="left"||el_float==="right"){spacer.append(elm);}}
elm.trigger("sticky_kit:stick");}}
if(fixed&&enable_bottoming){if(will_bottom==null){will_bottom=scroll+height+offset>parent_height+parent_top;}
if(!bottomed&&will_bottom){bottomed=true;if(parent.css("position")==="static"){parent.css({position:"relative"});}
return elm.css({position:"absolute",bottom:padding_bottom,top:"auto"}).trigger("sticky_kit:bottom");}}};recalc_and_tick=function(){recalc();return tick();};detach=function(){detached=true;win.off("touchmove",tick);win.off("scroll",tick);win.off("resize",recalc_and_tick);$(document.body).off("sticky_kit:recalc",recalc_and_tick);elm.off("sticky_kit:detach",detach);elm.removeData("sticky_kit");elm.css({position:"",bottom:"",top:"",width:""});parent.position("position","");if(fixed){if(manual_spacer==null){if(el_float==="left"||el_float==="right"){elm.insertAfter(spacer);}
spacer.remove();}
return elm.removeClass(sticky_class);}};win.on("touchmove",tick);win.on("scroll",tick);win.on("resize",recalc_and_tick);$(document.body).on("sticky_kit:recalc",recalc_and_tick);elm.on("sticky_kit:detach",detach);return setTimeout(tick,0);};for(i=0,len=this.length;i<len;i++){elm=this[i];fn($(elm));}
return this;};}).call(this);(function($){if(!$){return console.warn('Unslider needs jQuery');}
$.Unslider=function(context,options){var self=this;self._='unslider';self.defaults={autoplay:false,delay:3000,speed:750,easing:'swing',keys:{prev:37,next:39},nav:true,arrows:{prev:'<a class="'+self._+'-arrow prev">Prev</a>',next:'<a class="'+self._+'-arrow next">Next</a>'},animation:'horizontal',selectors:{container:'ul:first',slides:'li'},animateHeight:false,activeClass:self._+'-active',swipe:true};self.$context=context;self.options={};self.$parent=null;self.$container=null;self.$slides=null;self.$nav=null;self.$arrows=[];self.total=0;self.current=0;self.prefix=self._+'-';self.eventSuffix='.'+self.prefix+~~(Math.random()*2e3);self.interval=null;self.init=function(options){self.options=$.extend({},self.defaults,options);self.$container=self.$context.find(self.options.selectors.container).addClass(self.prefix+'wrap');self.$slides=self.$container.children(self.options.selectors.slides);self.setup();$.each(['nav','arrows','keys','infinite'],function(index,module){self.options[module]&&self['init'+$._ucfirst(module)]();});if(jQuery.event.special.swipe&&self.options.swipe){self.initSwipe();}
self.options.autoplay&&self.start();self.calculateSlides();self.$context.trigger(self._+'.ready');return self.animate(self.options.index||self.current,'init');};self.setup=function(){self.$context.addClass(self.prefix+self.options.animation).wrap('<div class="'+self._+'" />');self.$parent=self.$context.parent('.'+self._);var position=self.$context.css('position');if(position==='static'){self.$context.css('position','relative');}
self.$context.css('overflow','hidden');};self.calculateSlides=function(){self.total=self.$slides.length;if(self.options.animation!=='fade'){var prop='width';if(self.options.animation==='vertical'){prop='height';}
self.$container.css(prop,(self.total*100)+'%').addClass(self.prefix+'carousel');self.$slides.css(prop,(100/self.total)+'%');}};self.start=function(){self.interval=setTimeout(function(){self.next();},self.options.delay);return self;};self.stop=function(){clearTimeout(self.interval);return self;};self.initNav=function(){var $nav=$('<nav class="'+self.prefix+'nav"><ol /></nav>');self.$slides.each(function(key){var label=this.getAttribute('data-nav')||key+1;if($.isFunction(self.options.nav)){label=self.options.nav.call(self.$slides.eq(key),key,label);}
$nav.children('ol').append('<li data-slide="'+key+'">'+label+'</li>');});self.$nav=$nav.insertAfter(self.$context);self.$nav.find('li').on('click'+self.eventSuffix,function(){var $me=$(this).addClass(self.options.activeClass);$me.siblings().removeClass(self.options.activeClass);self.animate($me.attr('data-slide'));});};self.initArrows=function(){if(self.options.arrows===true){self.options.arrows=self.defaults.arrows;}
$.each(self.options.arrows,function(key,val){self.$arrows.push($(val).insertAfter(self.$context).on('click'+self.eventSuffix,self[key]));});};self.initKeys=function(){if(self.options.keys===true){self.options.keys=self.defaults.keys;}
$(document).on('keyup'+self.eventSuffix,function(e){$.each(self.options.keys,function(key,val){if(e.which===val){$.isFunction(self[key])&&self[key].call(self);}});});};self.initSwipe=function(){var width=self.$slides.width();self.$container.on({swipeleft:self.next,swiperight:self.prev,movestart:function(e){if((e.distX>e.distY&&e.distX<-e.distY)||(e.distX<e.distY&&e.distX>-e.distY)){return!!e.preventDefault();}
self.$container.css('position','relative');}});if(self.options.animation!=='fade'){self.$container.on({move:function(e){self.$container.css('left',-(100*self.current)+(100*e.distX/width)+'%');},moveend:function(e){if((Math.abs(e.distX)/width)<$.event.special.swipe.settings.threshold){return self._move(self.$container,{left:-(100*self.current)+'%'},false,200);}}});}};self.initInfinite=function(){var pos=['first','last'];$.each(pos,function(index,item){self.$slides.push.apply(self.$slides,self.$slides.filter(':not(".'+self._+'-clone")')[item]().clone().addClass(self._+'-clone')
['insert'+(index===0?'After':'Before')](self.$slides[pos[~~!index]]()));});};self.destroyArrows=function(){$.each(self.$arrows,function($arrow){$arrow.remove();});};self.destroySwipe=function(){self.$container.off('movestart move moveend');};self.destroyKeys=function(){$(document).off('keyup'+self.eventSuffix);};self.setIndex=function(to){if(to<0){to=self.total-1;}
self.current=Math.min(Math.max(0,to),self.total-1);if(self.options.nav){self.$nav.find('[data-slide="'+self.current+'"]')._active(self.options.activeClass);}
self.$slides.eq(self.current)._active(self.options.activeClass);return self;};self.animate=function(to,dir){if(to==='first')to=0;if(to==='last')to=self.total;if(isNaN(to)){return self;}
if(self.options.autoplay){self.stop().start();}
self.setIndex(to);self.$context.trigger(self._+'.change',[to,self.$slides.eq(to)]);var fn='animate'+$._ucfirst(self.options.animation);if($.isFunction(self[fn])){self[fn](self.current,dir);}
return self;};self.next=function(){var target=self.current+1;if(target>=self.total){target=0;}
return self.animate(target,'next');};self.prev=function(){return self.animate(self.current-1,'prev');};self.animateHorizontal=function(to){var prop='left';if(self.$context.attr('dir')==='rtl'){prop='right';}
if(self.options.infinite){self.$container.css('margin-'+prop,'-100%');}
return self.slide(prop,to);};self.animateVertical=function(to){self.options.animateHeight=true;if(self.options.infinite){self.$container.css('margin-top',-self.$slides.outerHeight());}
return self.slide('top',to);};self.slide=function(prop,to){if(self.options.animateHeight){self._move(self.$context,{height:self.$slides.eq(to).outerHeight()},false);}
if(self.options.infinite){var dummy;if(to===self.total-1){dummy=self.total-3;to=-1;}
if(to===self.total-2){dummy=0;to=self.total-2;}
if(typeof dummy==='number'){self.setIndex(dummy);self.$context.on(self._+'.moved',function(){if(self.current===dummy){self.$container.css(prop,-(100*dummy)+'%').off(self._+'.moved');}});}}
var obj={};obj[prop]=-(100*to)+'%';return self._move(self.$container,obj);};self.animateFade=function(to){var $active=self.$slides.eq(to).addClass(self.options.activeClass);self._move($active.siblings().removeClass(self.options.activeClass),{opacity:0});self._move($active,{opacity:1},false);};self._move=function($el,obj,callback,speed){if(callback!==false){callback=function(){self.$context.trigger(self._+'.moved');};}
return $el._move(obj,speed||self.options.speed,self.options.easing,callback);};return self.init(options);};$.fn._active=function(className){return this.addClass(className).siblings().removeClass(className);};$._ucfirst=function(str){return(str+'').toLowerCase().replace(/^./,function(match){return match.toUpperCase();});};$.fn._move=function(){this.stop(true,true);return $.fn[$.fn.velocity?'velocity':'animate'].apply(this,arguments);};$.fn.unslider=function(opts){return this.each(function(){var $this=$(this);if(typeof opts==='string'&&$this.data('unslider')){opts=opts.split(':');var call=$this.data('unslider')[opts[0]];if($.isFunction(call)){return call.apply($this,opts[1]?opts[1].split(','):null);}}
return $this.data('unslider',new $.Unslider($this,opts));});};})(window.jQuery);